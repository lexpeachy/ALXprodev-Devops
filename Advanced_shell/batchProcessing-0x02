import requests
import time
import os
import json

def fetch_pokemon_data(pokemon_list, delay=1):
    # Create directory for pokemon data if it doesn't exist
    os.makedirs('pokemon_data', exist_ok=True)
    
    for pokemon in pokemon_list:
        print(f"Fetching data for {pokemon.lower()}...")
        
        try:
            # Make request to PokeAPI
            response = requests.get(f"https://pokeapi.co/api/v2/pokemon/{pokemon.lower()}")
            response.raise_for_status()  # Raise exception for HTTP errors
            
            # Save data to file
            filename = f"pokemon_data/{pokemon.lower()}.json"
            with open(filename, 'w') as f:
                json.dump(response.json(), f, indent=2)
            
            print(f"Saved data to {filename} âœ…")
            
        except requests.exceptions.RequestException as e:
            print(f"Error fetching data for {pokemon}: {e}")
        
        # Add delay between requests to avoid rate limiting
        time.sleep(delay)

if __name__ == "__main__":
    pokemon_list = ["Bulbasaur", "Ivysaur", "Venusaur", "Charmander", "Charmeleon"]
    fetch_pokemon_data(pokemon_list)
