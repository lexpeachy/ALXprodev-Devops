#!/usr/bin/env python3

import os
import time
import subprocess

def fetch_pokemon_data():
    # List of Pokémon in lowercase
    pokemon_list = ["bulbasaur", "ivysaur", "venusaur", "charmander", "charmeleon"]
    
    # Create directory for pokemon data if it doesn't exist
    os.makedirs('pokemon_data', exist_ok=True)
    
    for pokemon in pokemon_list:
        print(f"Fetching data for {pokemon}...")
        
        try:
            # Use curl to fetch the data
            curl_command = [
                "curl",
                "-s",  # Silent mode
                "-o", f"pokemon_data/{pokemon}.json",  # Output file
                f"https://pokeapi.co/api/v2/pokemon/{pokemon}"
            ]
            
            # Execute the curl command
            subprocess.run(curl_command, check=True)
            
            print(f"Saved data to pokemon_data/{pokemon}.json ✅")
            
        except subprocess.CalledProcessError as e:
            print(f"Error fetching data for {pokemon}: {e}")
        
        # Add delay between requests to avoid rate limiting
        time.sleep(1)

if __name__ == "__main__":
    fetch_pokemon_data()
